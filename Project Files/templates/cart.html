<!-- templates/cart.html -->
{% extends 'base.html' %}

{% block title %}Your Cart{% endblock %}

{% block content %}
<div class="container max-w-4xl mx-auto py-8">

Â  <header class="text-center mb-6">
Â  Â  <h1 class="text-3xl font-bold">ğŸ›’ Your Cart</h1>
Â  Â  <p class="text-gray-600">Review and manage your favorite pickles!</p>
Â  </header>

Â  {% with messages = get_flashed_messages() %}
Â  Â  {% if messages %}
Â  Â  Â  <div class="mb-4">
Â  Â  Â  Â  {% for message in messages %}
Â  Â  Â  Â  Â  <div class="bg-yellow-100 text-yellow-800 px-4 py-2 rounded mb-2">{{ message }}</div>
Â  Â  Â  Â  {% endfor %}
Â  Â  Â  </div>
Â  Â  {% endif %}
Â  {% endwith %}

Â  {% if items %}
Â  Â  <div class="flex justify-between mb-4">
Â  Â  Â  <a href="{{ url_for('clear_cart') }}" class="btn bg-red-500 hover:bg-red-600 text-white" onclick="return confirm('Clear all items?')">ğŸ—‘ï¸ Clear Cart</a>
Â  Â  Â  <a href="{{ url_for('products') }}" class="btn bg-gray-200 hover:bg-gray-300">â† Continue Shopping</a>
Â  Â  </div>

Â  Â  <div class="space-y-6">
Â  Â  Â  {% for item in items %}
Â  Â  Â  <div class="flex items-center justify-between bg-white shadow p-4 rounded-lg">
Â  Â  Â  Â  <div class="flex items-center">
Â  Â  Â  Â  Â  <img src="{{ url_for('static', filename='images/' ~ item.image) }}" alt="{{ item.name }}" class="w-20 h-20 object-cover rounded mr-4">
Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  <h3 class="font-bold text-lg">{{ item.name }}</h3>
Â  Â  Â  Â  Â  Â  <p class="text-sm text-gray-600">{{ item.desc }}</p>
Â  Â  Â  Â  Â  Â  <p class="text-green-700 font-semibold">â‚¹{{ item.price }}</p>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="text-center space-y-2">
Â  Â  Â  Â  Â  <form method="POST" action="{{ url_for('update_quantity') }}" class="inline">
Â  Â  Â  Â  Â  Â  <input type="hidden" name="index" value="{{ loop.index0 }}">
Â  Â  Â  Â  Â  Â  <input type="hidden" name="action" value="increase">
Â  Â  Â  Â  Â  Â  <button class="qty-btn px-2 py-1 bg-green-200 rounded">+</button>
Â  Â  Â  Â  Â  </form>
Â  Â  Â  Â  Â  <form method="POST" action="{{ url_for('update_quantity') }}" class="inline">
Â  Â  Â  Â  Â  Â  <input type="hidden" name="index" value="{{ loop.index0 }}">
Â  Â  Â  Â  Â  Â  <input type="hidden" name="action" value="decrease">
Â  Â  Â  Â  Â  Â  <button class="qty-btn px-2 py-1 bg-yellow-200 rounded">âˆ’</button>
Â  Â  Â  Â  Â  </form>
Â  Â  Â  Â  Â  <br>
Â  Â  Â  Â  Â  <a href="{{ url_for('remove_from_cart', index=loop.index0) }}" class="text-red-600 hover:underline text-sm" onclick="return confirm('Remove this item?')">Remove</a>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  Â  {% endfor %}
Â  Â  </div>

Â  Â  <div class="text-right mt-6">
Â  Â  Â  <h2 class="text-xl font-bold">Total: â‚¹{{ total }}</h2>

Â  Â  Â  <!-- Order form -->
Â  Â  Â  <form action="{{ url_for('place_order') }}" method="POST" class="inline-block mt-3">
Â  Â  Â  Â  <button type="submit" class="btn bg-green-600 text-white hover:bg-green-700 px-6 py-2 rounded">ğŸ›’ Place Order</button>
Â  Â  Â  </form>
Â  Â  </div>

Â  {% else %}
Â  Â  <div class="text-center mt-12">
Â  Â  Â  <h2 class="text-xl font-semibold text-gray-700">Your cart is empty ğŸ˜¢</h2>
Â  Â  Â  <p class="text-gray-500 mb-4">Start shopping delicious pickles now!</p>
Â  Â  Â  <a href="{{ url_for('products') }}" class="btn bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700">ğŸŒ¶ï¸ Browse Pickles</a>
Â  Â  </div>
Â  {% endif %}
</div>
{% endblock %}
